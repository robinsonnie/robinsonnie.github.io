# 正则引擎原理

* 引擎分类
	* DFA：
		* 优点：匹配速度快
		* 缺点：不支持捕获型括号、回溯
		* 应用情况：egrep/awk/lex/flex使用DFA引擎
	* NFA：
		* 传统型NFA:
		* POSIX NFA:
		* 应用情况：Perl/Python/PHP/.Net/vi/grep/某些版本的egrep,awk使用NFA引擎
	* 混合引擎：根据不同任务选择合适的引擎，追求功能与效率的最佳平衡

* 匹配原则
	* 优先选择最左端的匹配结果
	* 标准的匹配量词 * + ? {m,n} 是匹配优先的，尽力匹配更多字符，直至匹配上限，但并非所有可能中最长的。
		* 考虑 ```^.*([0-9])```, ```.*```会尽可能匹配，但当行末匹配失败时，引擎会回退（依次从右向左释放```.*```匹配成功的字符），以尝试```[0-9]```是否成功。 
		* ```^.*([0-9]+)``` 匹配 'copyright 2003.', 则$1为3，而非2003.