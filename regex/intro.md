# 介绍 

* 正则表达式由2种字符构成：
	* 元字符（metacharacters）
	* 普通文本（literal）

* 按照字符来理解正则表达式，例如对于```^cat```：
	* 建议的理解方式：以c作为第1个字符开头，紧接着一个a，紧接着一个t的文本
	* 不建议的理解方式：匹配以cat开头的行
	* **上面的方式无差异，但建议方式会逼迫阅读者以正则表达式执行的内部逻辑来思考**


* egrep元字符
	* ```^``` : 锚定行开头
	* ```$``` : 锚定行结尾
		* Eg ```^$``` : 匹配空行
	* ```[]``` : 字符组
 		* Eg ```[ae]``` : 匹配字符a或者e
 		* Eg ```[0-9a-zA-Z]``` : 表示范围，16进制
 		* Eg ```[0-9A-Z_!.?]```: 表示任一数字、大写字母、下划线、惊叹号、点号、问号
 		* Eg ```"[^"]*"``` : 匹配引号内的字符串
 		* **注意：仅在字符组内部，```-```才是元字符，否则仅为普通文本；如果```-```没有连接范围，其就是普通字符**
 	* ```[^]``` : 排除字符组
 		* 对于字符组、排除字符组，**均表示一个占位符**，其中可能由、或者不能由哪些字符组成
 		* ```[]```字符组内外，关于元字符的规定是不同的，比如：^表示排除、锚定行开头。
	* ```.``` : 匹配1个任意字符（理解为匹配任意字符的字符组的简写）
	* ```?``` : 匹配0个或1个前导字符
		* Eg ```July? 4(th)?``` :
			*  y? 表示0或者1个y
			*  (th)? 表示0个或者1个th, ()被视作一个整体，?控制这个前导元素；类似的[]字符组也被视作一个整体
	* ```+``` : 匹配1个或多个前导字符
	* ```*``` : 匹配0个或多个前导字符
		* **```? + *```统称量词，其限定了所作用前导元素(更精确的说法是子表达式，对于Hello[1-6]*而言，H, e, l, l, o, [1-6], * 分别为子表达式)的重现次数**
		* **```? *```永远不会匹配失败**
	* ```{min, max}``` : 区间量词，控制前导元素的重复次数
		* Eg ```p2p[0-9]{2,3}``` : 2-3个数字
		* **并非所有正则均支持区间量词**
	* ```|``` : 多选分支，以或的语义匹配任意子表达式
		* Eg ```mysql|redis``` : mysql或者redis
		* Eg ```gr(a|e)y  <=> gr[ae]y <=> gray|grey``` : gray或者grey. ()用来划定多选分支的范围
		* **多选分支中的子表达式，可以是完整的正则表达式，Eg ```mys.l|qtss```**
		* 区分：
			* ```^From|Subject|Date:``` : 以 From 或 Subject 或 Date: 开头
			* ```^(From|Subject|Date):``` : 以 (From|Subject|Date) 开头， 随后是:
	* ```\< \>``` : 单词分界符，对应为单词版本的^与$
		* Eg ```\<cat\>``` : 匹配cat这个单词
		* 注意1：非标，并非所有正则均支持，即便egrep，也不是所有版本均支持。
		* 注意2：单词起始位置指的是"字母和数字开始的位置"，结束位置指提"就是结尾的位置"
	* ```()``` : 多种作用
		* 作用1：限制多选分支的范围
		* 作用2：将若干字符组合为一个整体，以受量词控制出现次数
		* 作用3：反向引用，()能够"记住"匹配的文本，并使用\n引用记忆，如\1引用第1个()记住的匹配文本，\2引用第2个()记住的匹配文本；**捕获文本**
	* ```\``` : 转义元字符
		* **注意: 在字符组内无效**
		* Eg: ```\([a-zA-Z]+\)``` : 匹配 (至少1个字母)
		* **正则表达式的流派不同，其字符转义的规则也不同，想想Lua的%**
			
* egrep命令行参数
	* -i : 忽略大小写
	* -n : 行号

* 原则
	* 调校正则表达式前提，需要了解待搜索文本，进而在复杂性、完整性间求得平衡。